glabel func_801D4150_590120
/* 590120 801D4150 3C0E8021 */  lui        $t6, %hi(D_8021181C)
/* 590124 801D4154 8DCE181C */  lw         $t6, %lo(D_8021181C)($t6)
/* 590128 801D4158 27BDFFA8 */  addiu      $sp, $sp, -0x58
/* 59012C 801D415C AFBF001C */  sw         $ra, 0x1c($sp)
/* 590130 801D4160 AFB00018 */  sw         $s0, 0x18($sp)
/* 590134 801D4164 3C0142C0 */  lui        $at, 0x42c0
/* 590138 801D4168 44813000 */  mtc1       $at, $f6
/* 59013C 801D416C C5C40010 */  lwc1       $f4, 0x10($t6)
/* 590140 801D4170 00808025 */  or         $s0, $a0, $zero
/* 590144 801D4174 00A03025 */  or         $a2, $a1, $zero
/* 590148 801D4178 46062202 */  mul.s      $f8, $f4, $f6
/* 59014C 801D417C 4600428D */  trunc.w.s  $f10, $f8
/* 590150 801D4180 44035000 */  mfc1       $v1, $f10
/* 590154 801D4184 00000000 */  nop
/* 590158 801D4188 3078FFFF */  andi       $t8, $v1, 0xffff
/* 59015C 801D418C 13000009 */  beqz       $t8, .L801D41B4
/* 590160 801D4190 03001825 */   or        $v1, $t8, $zero
/* 590164 801D4194 8C82005C */  lw         $v0, 0x5c($a0)
/* 590168 801D4198 0300C827 */  not        $t9, $t8
/* 59016C 801D419C 944400A8 */  lhu        $a0, 0xa8($v0)
/* 590170 801D41A0 14800007 */  bnez       $a0, .L801D41C0
/* 590174 801D41A4 00995024 */   and       $t2, $a0, $t9
/* 590178 801D41A8 314B8000 */  andi       $t3, $t2, 0x8000
/* 59017C 801D41AC 51600005 */  beql       $t3, $zero, .L801D41C4
/* 590180 801D41B0 00836821 */   addu      $t5, $a0, $v1
.L801D41B4:
/* 590184 801D41B4 8E0C005C */  lw         $t4, 0x5c($s0)
/* 590188 801D41B8 10000003 */  b          .L801D41C8
/* 59018C 801D41BC A58000A8 */   sh        $zero, 0xa8($t4)
.L801D41C0:
/* 590190 801D41C0 00836821 */  addu       $t5, $a0, $v1
.L801D41C4:
/* 590194 801D41C4 A44D00A8 */  sh         $t5, 0xa8($v0)
.L801D41C8:
/* 590198 801D41C8 8E02005C */  lw         $v0, 0x5c($s0)
/* 59019C 801D41CC 944300A8 */  lhu        $v1, 0xa8($v0)
/* 5901A0 801D41D0 00032400 */  sll        $a0, $v1, 0x10
/* 5901A4 801D41D4 00047403 */  sra        $t6, $a0, 0x10
/* 5901A8 801D41D8 29C102D1 */  slti       $at, $t6, 0x2d1
/* 5901AC 801D41DC 14200008 */  bnez       $at, .L801D4200
/* 5901B0 801D41E0 01C02025 */   or        $a0, $t6, $zero
/* 5901B4 801D41E4 240F02D0 */  addiu      $t7, $zero, 0x2d0
/* 5901B8 801D41E8 A44F00A8 */  sh         $t7, 0xa8($v0)
/* 5901BC 801D41EC 8E02005C */  lw         $v0, 0x5c($s0)
/* 5901C0 801D41F0 944300A8 */  lhu        $v1, 0xa8($v0)
/* 5901C4 801D41F4 00032400 */  sll        $a0, $v1, 0x10
/* 5901C8 801D41F8 0004C403 */  sra        $t8, $a0, 0x10
/* 5901CC 801D41FC 03002025 */  or         $a0, $t8, $zero
.L801D4200:
/* 5901D0 801D4200 2881FD30 */  slti       $at, $a0, -0x2d0
/* 5901D4 801D4204 10200004 */  beqz       $at, .L801D4218
/* 5901D8 801D4208 3419FD30 */   ori       $t9, $zero, 0xfd30
/* 5901DC 801D420C A45900A8 */  sh         $t9, 0xa8($v0)
/* 5901E0 801D4210 8E02005C */  lw         $v0, 0x5c($s0)
/* 5901E4 801D4214 944300A8 */  lhu        $v1, 0xa8($v0)
.L801D4218:
/* 5901E8 801D4218 944A00A4 */  lhu        $t2, 0xa4($v0)
/* 5901EC 801D421C 01435821 */  addu       $t3, $t2, $v1
/* 5901F0 801D4220 A44B00A4 */  sh         $t3, 0xa4($v0)
/* 5901F4 801D4224 8E0C005C */  lw         $t4, 0x5c($s0)
/* 5901F8 801D4228 958400A4 */  lhu        $a0, 0xa4($t4)
/* 5901FC 801D422C 0C000EFE */  jal        func_80003BF8
/* 590200 801D4230 AFA6005C */   sw        $a2, 0x5c($sp)
/* 590204 801D4234 8FA6005C */  lw         $a2, 0x5c($sp)
/* 590208 801D4238 E4C00000 */  swc1       $f0, ($a2)
/* 59020C 801D423C 8E0D005C */  lw         $t5, 0x5c($s0)
/* 590210 801D4240 0C000F16 */  jal        func_80003C58
/* 590214 801D4244 95A400A4 */   lhu       $a0, 0xa4($t5)
/* 590218 801D4248 8FA6005C */  lw         $a2, 0x5c($sp)
/* 59021C 801D424C 44808000 */  mtc1       $zero, $f16
/* 590220 801D4250 3C0E8021 */  lui        $t6, %hi(D_8021181C)
/* 590224 801D4254 E4C00008 */  swc1       $f0, 8($a2)
/* 590228 801D4258 E4D00004 */  swc1       $f16, 4($a2)
/* 59022C 801D425C 8DCE181C */  lw         $t6, %lo(D_8021181C)($t6)
/* 590230 801D4260 3C018021 */  lui        $at, %hi(D_8020F880_5CB850)
/* 590234 801D4264 C424F880 */  lwc1       $f4, %lo(D_8020F880_5CB850)($at)
/* 590238 801D4268 C5D20014 */  lwc1       $f18, 0x14($t6)
/* 59023C 801D426C 8E02005C */  lw         $v0, 0x5c($s0)
/* 590240 801D4270 3C014120 */  lui        $at, 0x4120
/* 590244 801D4274 46049182 */  mul.s      $f6, $f18, $f4
/* 590248 801D4278 44818000 */  mtc1       $at, $f16
/* 59024C 801D427C C44A0054 */  lwc1       $f10, 0x54($v0)
/* 590250 801D4280 4610503C */  c.lt.s     $f10, $f16
/* 590254 801D4284 4600320D */  trunc.w.s  $f8, $f6
/* 590258 801D4288 44094000 */  mfc1       $t1, $f8
/* 59025C 801D428C 00000000 */  nop
/* 590260 801D4290 3138FFFF */  andi       $t8, $t1, 0xffff
/* 590264 801D4294 45000003 */  bc1f       .L801D42A4
/* 590268 801D4298 03004825 */   or        $t1, $t8, $zero
/* 59026C 801D429C 10000002 */  b          .L801D42A8
/* 590270 801D42A0 24070800 */   addiu     $a3, $zero, 0x800
.L801D42A4:
/* 590274 801D42A4 00003825 */  or         $a3, $zero, $zero
.L801D42A8:
/* 590278 801D42A8 944800A6 */  lhu        $t0, 0xa6($v0)
/* 59027C 801D42AC 00E9C821 */  addu       $t9, $a3, $t1
/* 590280 801D42B0 03282023 */  subu       $a0, $t9, $t0
/* 590284 801D42B4 3083FFFF */  andi       $v1, $a0, 0xffff
/* 590288 801D42B8 00032C00 */  sll        $a1, $v1, 0x10
/* 59028C 801D42BC 00055C03 */  sra        $t3, $a1, 0x10
/* 590290 801D42C0 29610301 */  slti       $at, $t3, 0x301
/* 590294 801D42C4 14200003 */  bnez       $at, .L801D42D4
/* 590298 801D42C8 01602825 */   or        $a1, $t3, $zero
/* 59029C 801D42CC 24030300 */  addiu      $v1, $zero, 0x300
/* 5902A0 801D42D0 24050300 */  addiu      $a1, $zero, 0x300
.L801D42D4:
/* 5902A4 801D42D4 28A1FD00 */  slti       $at, $a1, -0x300
/* 5902A8 801D42D8 50200003 */  beql       $at, $zero, .L801D42E8
/* 5902AC 801D42DC 01036021 */   addu      $t4, $t0, $v1
/* 5902B0 801D42E0 3403FD00 */  ori        $v1, $zero, 0xfd00
/* 5902B4 801D42E4 01036021 */  addu       $t4, $t0, $v1
.L801D42E8:
/* 5902B8 801D42E8 A44C00A6 */  sh         $t4, 0xa6($v0)
/* 5902BC 801D42EC 8E02005C */  lw         $v0, 0x5c($s0)
/* 5902C0 801D42F0 240E3800 */  addiu      $t6, $zero, 0x3800
/* 5902C4 801D42F4 944400A6 */  lhu        $a0, 0xa6($v0)
/* 5902C8 801D42F8 00042C00 */  sll        $a1, $a0, 0x10
/* 5902CC 801D42FC 00056C03 */  sra        $t5, $a1, 0x10
/* 5902D0 801D4300 29A13801 */  slti       $at, $t5, 0x3801
/* 5902D4 801D4304 14200007 */  bnez       $at, .L801D4324
/* 5902D8 801D4308 01A02825 */   or        $a1, $t5, $zero
/* 5902DC 801D430C A44E00A6 */  sh         $t6, 0xa6($v0)
/* 5902E0 801D4310 8E02005C */  lw         $v0, 0x5c($s0)
/* 5902E4 801D4314 944400A6 */  lhu        $a0, 0xa6($v0)
/* 5902E8 801D4318 00042C00 */  sll        $a1, $a0, 0x10
/* 5902EC 801D431C 00057C03 */  sra        $t7, $a1, 0x10
/* 5902F0 801D4320 01E02825 */  or         $a1, $t7, $zero
.L801D4324:
/* 5902F4 801D4324 28A1C800 */  slti       $at, $a1, -0x3800
/* 5902F8 801D4328 10200005 */  beqz       $at, .L801D4340
/* 5902FC 801D432C 27A50044 */   addiu     $a1, $sp, 0x44
/* 590300 801D4330 3418C800 */  ori        $t8, $zero, 0xc800
/* 590304 801D4334 A45800A6 */  sh         $t8, 0xa6($v0)
/* 590308 801D4338 8E19005C */  lw         $t9, 0x5c($s0)
/* 59030C 801D433C 972400A6 */  lhu        $a0, 0xa6($t9)
.L801D4340:
/* 590310 801D4340 0C000F2E */  jal        func_80003CB8
/* 590314 801D4344 AFA6005C */   sw        $a2, 0x5c($sp)
/* 590318 801D4348 8FA6005C */  lw         $a2, 0x5c($sp)
/* 59031C 801D434C E7A00048 */  swc1       $f0, 0x48($sp)
/* 590320 801D4350 26040084 */  addiu      $a0, $s0, 0x84
/* 590324 801D4354 C4D20000 */  lwc1       $f18, ($a2)
/* 590328 801D4358 46009102 */  mul.s      $f4, $f18, $f0
/* 59032C 801D435C E6040084 */  swc1       $f4, 0x84($s0)
/* 590330 801D4360 C4C60008 */  lwc1       $f6, 8($a2)
/* 590334 801D4364 46003202 */  mul.s      $f8, $f6, $f0
/* 590338 801D4368 E608008C */  swc1       $f8, 0x8c($s0)
/* 59033C 801D436C C7AA0044 */  lwc1       $f10, 0x44($sp)
/* 590340 801D4370 0C0073C9 */  jal        func_8001CF24
/* 590344 801D4374 E60A0088 */   swc1      $f10, 0x88($s0)
/* 590348 801D4378 8FA4005C */  lw         $a0, 0x5c($sp)
/* 59034C 801D437C C7B20044 */  lwc1       $f18, 0x44($sp)
/* 590350 801D4380 C4900000 */  lwc1       $f16, ($a0)
/* 590354 801D4384 C4860008 */  lwc1       $f6, 8($a0)
/* 590358 801D4388 46128102 */  mul.s      $f4, $f16, $f18
/* 59035C 801D438C E4840000 */  swc1       $f4, ($a0)
/* 590360 801D4390 C7A80044 */  lwc1       $f8, 0x44($sp)
/* 590364 801D4394 46083282 */  mul.s      $f10, $f6, $f8
/* 590368 801D4398 E48A0008 */  swc1       $f10, 8($a0)
/* 59036C 801D439C C7B00048 */  lwc1       $f16, 0x48($sp)
/* 590370 801D43A0 46008487 */  neg.s      $f18, $f16
/* 590374 801D43A4 0C0073C9 */  jal        func_8001CF24
/* 590378 801D43A8 E4920004 */   swc1      $f18, 4($a0)
/* 59037C 801D43AC 8FA6005C */  lw         $a2, 0x5c($sp)
/* 590380 801D43B0 8E0A005C */  lw         $t2, 0x5c($s0)
/* 590384 801D43B4 3C018021 */  lui        $at, 0x8021
/* 590388 801D43B8 C4C40000 */  lwc1       $f4, ($a2)
/* 59038C 801D43BC C54600AC */  lwc1       $f6, 0xac($t2)
/* 590390 801D43C0 C4CA0004 */  lwc1       $f10, 4($a2)
/* 590394 801D43C4 240D0004 */  addiu      $t5, $zero, 4
/* 590398 801D43C8 46062202 */  mul.s      $f8, $f4, $f6
/* 59039C 801D43CC C4C40008 */  lwc1       $f4, 8($a2)
/* 5903A0 801D43D0 E4C80000 */  swc1       $f8, ($a2)
/* 5903A4 801D43D4 8E0B005C */  lw         $t3, 0x5c($s0)
/* 5903A8 801D43D8 C57000AC */  lwc1       $f16, 0xac($t3)
/* 5903AC 801D43DC 46105482 */  mul.s      $f18, $f10, $f16
/* 5903B0 801D43E0 E4D20004 */  swc1       $f18, 4($a2)
/* 5903B4 801D43E4 8E0C005C */  lw         $t4, 0x5c($s0)
/* 5903B8 801D43E8 C58600AC */  lwc1       $f6, 0xac($t4)
/* 5903BC 801D43EC 46062202 */  mul.s      $f8, $f4, $f6
/* 5903C0 801D43F0 E4C80008 */  swc1       $f8, 8($a2)
/* 5903C4 801D43F4 8E02005C */  lw         $v0, 0x5c($s0)
/* 5903C8 801D43F8 D432F888 */  ldc1       $f18, -0x778($at)
/* 5903CC 801D43FC 3C018021 */  lui        $at, 0x8021
/* 5903D0 801D4400 C44A00AC */  lwc1       $f10, 0xac($v0)
/* 5903D4 801D4404 46005421 */  cvt.d.s    $f16, $f10
/* 5903D8 801D4408 46328102 */  mul.d      $f4, $f16, $f18
/* 5903DC 801D440C 462021A0 */  cvt.s.d    $f6, $f4
/* 5903E0 801D4410 E44600AC */  swc1       $f6, 0xac($v0)
/* 5903E4 801D4414 8E0E005C */  lw         $t6, 0x5c($s0)
/* 5903E8 801D4418 A1CD002F */  sb         $t5, 0x2f($t6)
/* 5903EC 801D441C 8E02005C */  lw         $v0, 0x5c($s0)
/* 5903F0 801D4420 C42AF890 */  lwc1       $f10, -0x770($at)
/* 5903F4 801D4424 C44800AC */  lwc1       $f8, 0xac($v0)
/* 5903F8 801D4428 460A403C */  c.lt.s     $f8, $f10
/* 5903FC 801D442C 00000000 */  nop
/* 590400 801D4430 4500000B */  bc1f       .L801D4460
/* 590404 801D4434 00000000 */   nop
/* 590408 801D4438 44800000 */  mtc1       $zero, $f0
/* 59040C 801D443C 3C013F80 */  lui        $at, 0x3f80
/* 590410 801D4440 44818000 */  mtc1       $at, $f16
/* 590414 801D4444 E44000AC */  swc1       $f0, 0xac($v0)
/* 590418 801D4448 8E0F005C */  lw         $t7, 0x5c($s0)
/* 59041C 801D444C A5E000A6 */  sh         $zero, 0xa6($t7)
/* 590420 801D4450 8E02005C */  lw         $v0, 0x5c($s0)
/* 590424 801D4454 E6000084 */  swc1       $f0, 0x84($s0)
/* 590428 801D4458 E600008C */  swc1       $f0, 0x8c($s0)
/* 59042C 801D445C E6100088 */  swc1       $f16, 0x88($s0)
.L801D4460:
/* 590430 801D4460 0C000EFE */  jal        func_80003BF8
/* 590434 801D4464 944400A4 */   lhu       $a0, 0xa4($v0)
/* 590438 801D4468 E7A0004C */  swc1       $f0, 0x4c($sp)
/* 59043C 801D446C 8E18005C */  lw         $t8, 0x5c($s0)
/* 590440 801D4470 0C000F16 */  jal        func_80003C58
/* 590444 801D4474 970400A4 */   lhu       $a0, 0xa4($t8)
/* 590448 801D4478 44809000 */  mtc1       $zero, $f18
/* 59044C 801D447C E7A00054 */  swc1       $f0, 0x54($sp)
/* 590450 801D4480 3C014620 */  lui        $at, 0x4620
/* 590454 801D4484 E7B20050 */  swc1       $f18, 0x50($sp)
/* 590458 801D4488 8E19005C */  lw         $t9, 0x5c($s0)
/* 59045C 801D448C 44814000 */  mtc1       $at, $f8
/* 590460 801D4490 3C014660 */  lui        $at, 0x4660
/* 590464 801D4494 872A00A6 */  lh         $t2, 0xa6($t9)
/* 590468 801D4498 44818000 */  mtc1       $at, $f16
/* 59046C 801D449C 27A50044 */  addiu      $a1, $sp, 0x44
/* 590470 801D44A0 448A2000 */  mtc1       $t2, $f4
/* 590474 801D44A4 00000000 */  nop
/* 590478 801D44A8 468021A0 */  cvt.s.w    $f6, $f4
/* 59047C 801D44AC 46083282 */  mul.s      $f10, $f6, $f8
/* 590480 801D44B0 46105483 */  div.s      $f18, $f10, $f16
/* 590484 801D44B4 4600910D */  trunc.w.s  $f4, $f18
/* 590488 801D44B8 44042000 */  mfc1       $a0, $f4
/* 59048C 801D44BC 00000000 */  nop
/* 590490 801D44C0 308CFFFF */  andi       $t4, $a0, 0xffff
/* 590494 801D44C4 0C000F2E */  jal        func_80003CB8
/* 590498 801D44C8 01802025 */   or        $a0, $t4, $zero
/* 59049C 801D44CC C7A6004C */  lwc1       $f6, 0x4c($sp)
/* 5904A0 801D44D0 8E0D005C */  lw         $t5, 0x5c($s0)
/* 5904A4 801D44D4 46003202 */  mul.s      $f8, $f6, $f0
/* 5904A8 801D44D8 E5A8003C */  swc1       $f8, 0x3c($t5)
/* 5904AC 801D44DC C7AA0054 */  lwc1       $f10, 0x54($sp)
/* 5904B0 801D44E0 8E0E005C */  lw         $t6, 0x5c($s0)
/* 5904B4 801D44E4 46005402 */  mul.s      $f16, $f10, $f0
/* 5904B8 801D44E8 E5D00044 */  swc1       $f16, 0x44($t6)
/* 5904BC 801D44EC 8E0F005C */  lw         $t7, 0x5c($s0)
/* 5904C0 801D44F0 C7B20044 */  lwc1       $f18, 0x44($sp)
/* 5904C4 801D44F4 E5F20040 */  swc1       $f18, 0x40($t7)
/* 5904C8 801D44F8 8E04005C */  lw         $a0, 0x5c($s0)
/* 5904CC 801D44FC 0C0073C9 */  jal        func_8001CF24
/* 5904D0 801D4500 2484003C */   addiu     $a0, $a0, 0x3c
/* 5904D4 801D4504 8E18005C */  lw         $t8, 0x5c($s0)
/* 5904D8 801D4508 8FBF001C */  lw         $ra, 0x1c($sp)
/* 5904DC 801D450C 8FB00018 */  lw         $s0, 0x18($sp)
/* 5904E0 801D4510 970200A4 */  lhu        $v0, 0xa4($t8)
/* 5904E4 801D4514 27BD0058 */  addiu      $sp, $sp, 0x58
/* 5904E8 801D4518 00025183 */  sra        $t2, $v0, 6
/* 5904EC 801D451C 03E00008 */  jr         $ra
/* 5904F0 801D4520 314203FF */   andi      $v0, $t2, 0x3ff
