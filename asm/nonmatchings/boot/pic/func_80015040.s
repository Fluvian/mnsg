glabel func_80015040
/* 15C40 80015040 27BDFFD0 */  addiu      $sp, $sp, -0x30
/* 15C44 80015044 AFB10018 */  sw         $s1, 0x18($sp)
/* 15C48 80015048 00808825 */  or         $s1, $a0, $zero
/* 15C4C 8001504C AFBF001C */  sw         $ra, 0x1c($sp)
/* 15C50 80015050 AFB00014 */  sw         $s0, 0x14($sp)
/* 15C54 80015054 0C005215 */  jal        func_80014854
/* 15C58 80015058 24040008 */   addiu     $a0, $zero, 8
/* 15C5C 8001505C 0C005215 */  jal        func_80014854
/* 15C60 80015060 24040008 */   addiu     $a0, $zero, 8
/* 15C64 80015064 0C005215 */  jal        func_80014854
/* 15C68 80015068 24040008 */   addiu     $a0, $zero, 8
/* 15C6C 8001506C 3C0E8000 */  lui        $t6, 0x8000
/* 15C70 80015070 3C018017 */  lui        $at, %hi(D_8016D95C)
/* 15C74 80015074 AC2ED95C */  sw         $t6, %lo(D_8016D95C)($at)
/* 15C78 80015078 0C005215 */  jal        func_80014854
/* 15C7C 8001507C 24040008 */   addiu     $a0, $zero, 8
/* 15C80 80015080 2410001A */  addiu      $s0, $zero, 0x1a
/* 15C84 80015084 304300FF */  andi       $v1, $v0, 0xff
/* 15C88 80015088 12030016 */  beq        $s0, $v1, .L800150E4
/* 15C8C 8001508C A3A3002C */   sb        $v1, 0x2c($sp)
/* 15C90 80015090 0C005215 */  jal        func_80014854
/* 15C94 80015094 24040008 */   addiu     $a0, $zero, 8
/* 15C98 80015098 A3A2002D */  sb         $v0, 0x2d($sp)
/* 15C9C 8001509C 0C005215 */  jal        func_80014854
/* 15CA0 800150A0 24040008 */   addiu     $a0, $zero, 8
/* 15CA4 800150A4 A3A2002E */  sb         $v0, 0x2e($sp)
/* 15CA8 800150A8 0C005215 */  jal        func_80014854
/* 15CAC 800150AC 24040008 */   addiu     $a0, $zero, 8
/* 15CB0 800150B0 A3A2002F */  sb         $v0, 0x2f($sp)
/* 15CB4 800150B4 0C005837 */  jal        func_800160DC
/* 15CB8 800150B8 27A4002C */   addiu     $a0, $sp, 0x2c
/* 15CBC 800150BC 3C018017 */  lui        $at, %hi(D_8016D95C)
/* 15CC0 800150C0 AC22D95C */  sw         $v0, %lo(D_8016D95C)($at)
/* 15CC4 800150C4 0C005215 */  jal        func_80014854
/* 15CC8 800150C8 24040008 */   addiu     $a0, $zero, 8
/* 15CCC 800150CC 10500005 */  beq        $v0, $s0, .L800150E4
/* 15CD0 800150D0 00000000 */   nop
.L800150D4:
/* 15CD4 800150D4 0C005215 */  jal        func_80014854
/* 15CD8 800150D8 24040008 */   addiu     $a0, $zero, 8
/* 15CDC 800150DC 1450FFFD */  bne        $v0, $s0, .L800150D4
/* 15CE0 800150E0 00000000 */   nop
.L800150E4:
/* 15CE4 800150E4 0C005215 */  jal        func_80014854
/* 15CE8 800150E8 24040008 */   addiu     $a0, $zero, 8
/* 15CEC 800150EC 10400005 */  beqz       $v0, .L80015104
/* 15CF0 800150F0 00000000 */   nop
.L800150F4:
/* 15CF4 800150F4 0C005215 */  jal        func_80014854
/* 15CF8 800150F8 24040008 */   addiu     $a0, $zero, 8
/* 15CFC 800150FC 1440FFFD */  bnez       $v0, .L800150F4
/* 15D00 80015100 00000000 */   nop
.L80015104:
/* 15D04 80015104 0C005215 */  jal        func_80014854
/* 15D08 80015108 24040008 */   addiu     $a0, $zero, 8
/* 15D0C 8001510C 0C005215 */  jal        func_80014854
/* 15D10 80015110 24040004 */   addiu     $a0, $zero, 4
/* 15D14 80015114 AFA20028 */  sw         $v0, 0x28($sp)
/* 15D18 80015118 0C005215 */  jal        func_80014854
/* 15D1C 8001511C 24040004 */   addiu     $a0, $zero, 4
/* 15D20 80015120 0C005215 */  jal        func_80014854
/* 15D24 80015124 24040010 */   addiu     $a0, $zero, 0x10
/* 15D28 80015128 AE220008 */  sw         $v0, 8($s1)
/* 15D2C 8001512C 0C005215 */  jal        func_80014854
/* 15D30 80015130 24040010 */   addiu     $a0, $zero, 0x10
/* 15D34 80015134 3C108017 */  lui        $s0, %hi(D_8016D954)
/* 15D38 80015138 2610D954 */  addiu      $s0, $s0, %lo(D_8016D954)
/* 15D3C 8001513C AE020000 */  sw         $v0, ($s0)
/* 15D40 80015140 0C005215 */  jal        func_80014854
/* 15D44 80015144 24040010 */   addiu     $a0, $zero, 0x10
/* 15D48 80015148 3C048017 */  lui        $a0, %hi(D_8016D958)
/* 15D4C 8001514C 2484D958 */  addiu      $a0, $a0, %lo(D_8016D958)
/* 15D50 80015150 28410201 */  slti       $at, $v0, 0x201
/* 15D54 80015154 14200003 */  bnez       $at, .L80015164
/* 15D58 80015158 AC820000 */   sw        $v0, ($a0)
/* 15D5C 8001515C 24180200 */  addiu      $t8, $zero, 0x200
/* 15D60 80015160 AC980000 */  sw         $t8, ($a0)
.L80015164:
/* 15D64 80015164 8E190000 */  lw         $t9, ($s0)
/* 15D68 80015168 3C098017 */  lui        $t1, 0x8017
/* 15D6C 8001516C 24050004 */  addiu      $a1, $zero, 4
/* 15D70 80015170 AE390000 */  sw         $t9, ($s1)
/* 15D74 80015174 8C880000 */  lw         $t0, ($a0)
/* 15D78 80015178 AE20001C */  sw         $zero, 0x1c($s1)
/* 15D7C 8001517C AE200020 */  sw         $zero, 0x20($s1)
/* 15D80 80015180 AE280004 */  sw         $t0, 4($s1)
/* 15D84 80015184 8D29D95C */  lw         $t1, -0x26a4($t1)
/* 15D88 80015188 240B0002 */  addiu      $t3, $zero, 2
/* 15D8C 8001518C AE290014 */  sw         $t1, 0x14($s1)
/* 15D90 80015190 8FAA0028 */  lw         $t2, 0x28($sp)
/* 15D94 80015194 55450015 */  bnel       $t2, $a1, .L800151EC
/* 15D98 80015198 8E220008 */   lw        $v0, 8($s1)
/* 15D9C 8001519C AE2B0010 */  sw         $t3, 0x10($s1)
/* 15DA0 800151A0 8E0C0000 */  lw         $t4, ($s0)
/* 15DA4 800151A4 8C8F0000 */  lw         $t7, ($a0)
/* 15DA8 800151A8 2401FFFE */  addiu      $at, $zero, -2
/* 15DAC 800151AC 258D0001 */  addiu      $t5, $t4, 1
/* 15DB0 800151B0 01A17024 */  and        $t6, $t5, $at
/* 15DB4 800151B4 01CF0019 */  multu      $t6, $t7
/* 15DB8 800151B8 8E390008 */  lw         $t9, 8($s1)
/* 15DBC 800151BC 0000C012 */  mflo       $t8
/* 15DC0 800151C0 00000000 */  nop
/* 15DC4 800151C4 00000000 */  nop
/* 15DC8 800151C8 03190019 */  multu      $t8, $t9
/* 15DCC 800151CC 00004012 */  mflo       $t0
/* 15DD0 800151D0 05010003 */  bgez       $t0, .L800151E0
/* 15DD4 800151D4 000848C3 */   sra       $t1, $t0, 3
/* 15DD8 800151D8 25010007 */  addiu      $at, $t0, 7
/* 15DDC 800151DC 000148C3 */  sra        $t1, $at, 3
.L800151E0:
/* 15DE0 800151E0 10000029 */  b          .L80015288
/* 15DE4 800151E4 AE29000C */   sw        $t1, 0xc($s1)
/* 15DE8 800151E8 8E220008 */  lw         $v0, 8($s1)
.L800151EC:
/* 15DEC 800151EC 2401000F */  addiu      $at, $zero, 0xf
/* 15DF0 800151F0 10410003 */  beq        $v0, $at, .L80015200
/* 15DF4 800151F4 24010010 */   addiu     $at, $zero, 0x10
/* 15DF8 800151F8 14410009 */  bne        $v0, $at, .L80015220
/* 15DFC 800151FC 240E0001 */   addiu     $t6, $zero, 1
.L80015200:
/* 15E00 80015200 AE200010 */  sw         $zero, 0x10($s1)
/* 15E04 80015204 8C8B0000 */  lw         $t3, ($a0)
/* 15E08 80015208 8E0A0000 */  lw         $t2, ($s0)
/* 15E0C 8001520C 014B0019 */  multu      $t2, $t3
/* 15E10 80015210 00006012 */  mflo       $t4
/* 15E14 80015214 000C6840 */  sll        $t5, $t4, 1
/* 15E18 80015218 1000001B */  b          .L80015288
/* 15E1C 8001521C AE2D000C */   sw        $t5, 0xc($s1)
.L80015220:
/* 15E20 80015220 AE2E0010 */  sw         $t6, 0x10($s1)
/* 15E24 80015224 8C980000 */  lw         $t8, ($a0)
/* 15E28 80015228 8E0F0000 */  lw         $t7, ($s0)
/* 15E2C 8001522C 00A26026 */  xor        $t4, $a1, $v0
/* 15E30 80015230 2D8C0001 */  sltiu      $t4, $t4, 1
/* 15E34 80015234 01F80019 */  multu      $t7, $t8
/* 15E38 80015238 384F0008 */  xori       $t7, $v0, 8
/* 15E3C 8001523C 2DEF0001 */  sltiu      $t7, $t7, 1
/* 15E40 80015240 000C6940 */  sll        $t5, $t4, 5
/* 15E44 80015244 000FC240 */  sll        $t8, $t7, 9
/* 15E48 80015248 00001812 */  mflo       $v1
/* 15E4C 8001524C 30690001 */  andi       $t1, $v1, 1
/* 15E50 80015250 00095040 */  sll        $t2, $t1, 1
/* 15E54 80015254 00620019 */  multu      $v1, $v0
/* 15E58 80015258 0000C812 */  mflo       $t9
/* 15E5C 8001525C 07210003 */  bgez       $t9, .L8001526C
/* 15E60 80015260 001940C3 */   sra       $t0, $t9, 3
/* 15E64 80015264 27210007 */  addiu      $at, $t9, 7
/* 15E68 80015268 000140C3 */  sra        $t0, $at, 3
.L8001526C:
/* 15E6C 8001526C 010A5821 */  addu       $t3, $t0, $t2
/* 15E70 80015270 016D7021 */  addu       $t6, $t3, $t5
/* 15E74 80015274 01D8C821 */  addu       $t9, $t6, $t8
/* 15E78 80015278 27290007 */  addiu      $t1, $t9, 7
/* 15E7C 8001527C 2401FFF8 */  addiu      $at, $zero, -8
/* 15E80 80015280 01214024 */  and        $t0, $t1, $at
/* 15E84 80015284 AE28000C */  sw         $t0, 0xc($s1)
.L80015288:
/* 15E88 80015288 8FBF001C */  lw         $ra, 0x1c($sp)
/* 15E8C 8001528C 8FB00014 */  lw         $s0, 0x14($sp)
/* 15E90 80015290 8FB10018 */  lw         $s1, 0x18($sp)
/* 15E94 80015294 03E00008 */  jr         $ra
/* 15E98 80015298 27BD0030 */   addiu     $sp, $sp, 0x30
