glabel func_80004900
/* 5500 80004900 27BDFFC8 */  addiu      $sp, $sp, -0x38
/* 5504 80004904 AFBF0014 */  sw         $ra, 0x14($sp)
/* 5508 80004908 27A40020 */  addiu      $a0, $sp, 0x20
/* 550C 8000490C 27A5001C */  addiu      $a1, $sp, 0x1c
/* 5510 80004910 0C00FECC */  jal        osCreateMesgQueue
/* 5514 80004914 24060001 */   addiu     $a2, $zero, 1
/* 5518 80004918 24040005 */  addiu      $a0, $zero, 5
/* 551C 8000491C 27A50020 */  addiu      $a1, $sp, 0x20
/* 5520 80004920 0C0105DC */  jal        osSetEventMesg
/* 5524 80004924 24060001 */   addiu     $a2, $zero, 1
/* 5528 80004928 3C078017 */  lui        $a3, %hi(D_8016C980)
/* 552C 8000492C 24E6C980 */  addiu      $a2, $a3, %lo(D_8016C980)
/* 5530 80004930 27A40020 */  addiu      $a0, $sp, 0x20
/* 5534 80004934 0C0105F8 */  jal        func_800417E0
/* 5538 80004938 27A50019 */   addiu     $a1, $sp, 0x19
/* 553C 8000493C 3C048017 */  lui        $a0, %hi(D_8016C960)
/* 5540 80004940 3C058017 */  lui        $a1, %hi(D_8016C978)
/* 5544 80004944 24A5C978 */  addiu      $a1, $a1, %lo(D_8016C978)
/* 5548 80004948 2484C960 */  addiu      $a0, $a0, %lo(D_8016C960)
/* 554C 8000494C 0C00FECC */  jal        osCreateMesgQueue
/* 5550 80004950 24060001 */   addiu     $a2, $zero, 1
/* 5554 80004954 3C058017 */  lui        $a1, %hi(D_8016C960)
/* 5558 80004958 24A5C960 */  addiu      $a1, $a1, %lo(D_8016C960)
/* 555C 8000495C 24040005 */  addiu      $a0, $zero, 5
/* 5560 80004960 0C0105DC */  jal        osSetEventMesg
/* 5564 80004964 00003025 */   or        $a2, $zero, $zero
/* 5568 80004968 3C078017 */  lui        $a3, %hi(D_8016C980)
/* 556C 8000496C 3C050003 */  lui        $a1, 3
/* 5570 80004970 3C038016 */  lui        $v1, %hi(gGameHeapPtr)
/* 5574 80004974 24E7C980 */  addiu      $a3, $a3, %lo(D_8016C980)
/* 5578 80004978 24631DB8 */  addiu      $v1, $v1, %lo(gGameHeapPtr)
/* 557C 8000497C 34A58000 */  ori        $a1, $a1, 0x8000
/* 5580 80004980 00001025 */  or         $v0, $zero, $zero
/* 5584 80004984 24060001 */  addiu      $a2, $zero, 1
/* 5588 80004988 24040018 */  addiu      $a0, $zero, 0x18
/* 558C 8000498C 93AE0019 */  lbu        $t6, 0x19($sp)
.L80004990:
/* 5590 80004990 240F0001 */  addiu      $t7, $zero, 1
/* 5594 80004994 004FC004 */  sllv       $t8, $t7, $v0
/* 5598 80004998 01D8C824 */  and        $t9, $t6, $t8
/* 559C 8000499C 1320000D */  beqz       $t9, .L800049D4
/* 55A0 800049A0 00024080 */   sll       $t0, $v0, 2
/* 55A4 800049A4 00E84821 */  addu       $t1, $a3, $t0
/* 55A8 800049A8 912A0003 */  lbu        $t2, 3($t1)
/* 55AC 800049AC 314B0008 */  andi       $t3, $t2, 8
/* 55B0 800049B0 15600008 */  bnez       $t3, .L800049D4
/* 55B4 800049B4 00000000 */   nop
/* 55B8 800049B8 00440019 */  multu      $v0, $a0
/* 55BC 800049BC 8C6C0000 */  lw         $t4, ($v1)
/* 55C0 800049C0 00006812 */  mflo       $t5
/* 55C4 800049C4 018D7821 */  addu       $t7, $t4, $t5
/* 55C8 800049C8 01E57021 */  addu       $t6, $t7, $a1
/* 55CC 800049CC 10000007 */  b          .L800049EC
/* 55D0 800049D0 A5C63078 */   sh        $a2, 0x3078($t6)
.L800049D4:
/* 55D4 800049D4 00440019 */  multu      $v0, $a0
/* 55D8 800049D8 8C780000 */  lw         $t8, ($v1)
/* 55DC 800049DC 0000C812 */  mflo       $t9
/* 55E0 800049E0 03194021 */  addu       $t0, $t8, $t9
/* 55E4 800049E4 01054821 */  addu       $t1, $t0, $a1
/* 55E8 800049E8 A5203078 */  sh         $zero, 0x3078($t1)
.L800049EC:
/* 55EC 800049EC 24420001 */  addiu      $v0, $v0, 1
/* 55F0 800049F0 00025400 */  sll        $t2, $v0, 0x10
/* 55F4 800049F4 000A1403 */  sra        $v0, $t2, 0x10
/* 55F8 800049F8 28410004 */  slti       $at, $v0, 4
/* 55FC 800049FC 5420FFE4 */  bnel       $at, $zero, .L80004990
/* 5600 80004A00 93AE0019 */   lbu       $t6, 0x19($sp)
/* 5604 80004A04 0C001210 */  jal        func_80004840
/* 5608 80004A08 00000000 */   nop
/* 560C 80004A0C 8FBF0014 */  lw         $ra, 0x14($sp)
/* 5610 80004A10 3C018017 */  lui        $at, %hi(D_8016C9A8)
/* 5614 80004A14 A420C9A8 */  sh         $zero, %lo(D_8016C9A8)($at)
/* 5618 80004A18 3C018017 */  lui        $at, %hi(D_8016C9AA)
/* 561C 80004A1C A420C9AA */  sh         $zero, %lo(D_8016C9AA)($at)
/* 5620 80004A20 03E00008 */  jr         $ra
/* 5624 80004A24 27BD0038 */   addiu     $sp, $sp, 0x38
